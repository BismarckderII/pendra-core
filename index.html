<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Pendra Core â€“ News & Events</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <img src="logo.png" alt="Pendra Core Logo" class="logo">
    <nav>
      <a href="index.html">News & Events</a>
      <a href="about.html">About Us</a>
      <a href="partners.html">Partners</a>
    </nav>
  </header>

  <main>
    <section class="box">
      <h2>ðŸ“° News</h2>
      <div id="news-list"></div>
    </section>

    <section class="box">
      <h2>ðŸ“… Events</h2>
      <div id="events-list"></div>
    </section>

    <section class="box">
      <h2>ðŸ”‘ Admin Login</h2>
      <div id="admin-login">
        <input type="password" id="admin-password" placeholder="Passwort eingeben">
        <button onclick="checkAdmin()">Login</button>
      </div>
      <div id="admin-panel" style="display:none;">
        <h3>Neue News hinzufÃ¼gen</h3>
        <input type="text" id="news-title" placeholder="Titel">
        <textarea id="news-text" placeholder="Text"></textarea>
        <button onclick="addNews()">Speichern</button>

        <h3>Neues Event hinzufÃ¼gen</h3>
        <input type="text" id="event-title" placeholder="Titel">
        <textarea id="event-text" placeholder="Beschreibung"></textarea>
        <button onclick="addEvent()">Speichern</button>
      </div>
    </section>
  </main>

  <footer>
    <p>Pendra Core Community Â© 2025</p>
  </footer>

  <script type="module">
    // Firebase SDK laden
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, collection, getDocs, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    // Deine Firebase Config
    const firebaseConfig = {
      apiKey: "AIzaSyD3PrCmuJ2XWcZECvTa-lqkc-8BLzhTDS4",
      authDomain: "pendra-core.firebaseapp.com",
      projectId: "pendra-core",
      storageBucket: "pendra-core.appspot.com",
      messagingSenderId: "92452360653",
      appId: "1:92452360653:web:b1fd93a71f9adad65af484"
    };

    // Init Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // ðŸ”¹ News laden
    async function loadNews() {
      const querySnapshot = await getDocs(collection(db, "news"));
      querySnapshot.forEach((doc) => {
        const data = doc.data();
        const div = document.createElement("div");
        div.classList.add("entry");
        div.innerHTML = `<h3>${data.title}</h3><p>${data.text}</p>`;
        document.getElementById("news-list").appendChild(div);
      });
    }

    // ðŸ”¹ Events laden
    async function loadEvents() {
      const querySnapshot = await getDocs(collection(db, "events"));
      querySnapshot.forEach((doc) => {
        const data = doc.data();
        const div = document.createElement("div");
        div.classList.add("entry");
        div.innerHTML = `<h3>${data.title}</h3><p>${data.text}</p>`;
        document.getElementById("events-list").appendChild(div);
      });
    }

    // ðŸ”‘ Admin Login
    function checkAdmin() {
      const pw = document.getElementById("admin-password").value;
      if (pw === "pendra2025") {  // Passwort kannst du Ã¤ndern!
        document.getElementById("admin-login").style.display = "none";
        document.getElementById("admin-panel").style.display = "block";
      } else {
        alert("Falsches Passwort!");
      }
    }

    // ðŸ”¹ Neue News speichern
    async function addNews() {
      const title = document.getElementById("news-title").value;
      const text = document.getElementById("news-text").value;
      await addDoc(collection(db, "news"), { title, text });
      alert("News hinzugefÃ¼gt!");
      location.reload();
    }

    // ðŸ”¹ Neues Event speichern
    async function addEvent() {
      const title = document.getElementById("event-title").value;
      const text = document.getElementById("event-text").value;
      await addDoc(collection(db, "events"), { title, text });
      alert("Event hinzugefÃ¼gt!");
      location.reload();
    }

    // Beim Laden Inhalte holen
    loadNews();
    loadEvents();
  </script>
</body>
</html>    </div>
  </section>

  <section>
    <h2 id="events-headline">Events</h2>
    <div id="events-list">
      <div class="news-item">
        <h3>Community Opening Event</h3>
        <p>Feier mit uns den Start der Community â€“ Datum folgt!</p>
      </div>
    </div>
  </section>

  <!-- Admin Login -->
  <section id="admin-section">
    <h2>Admin Login</h2>
    <input type="password" id="admin-pass" placeholder="Passwort eingeben">
    <button onclick="checkLogin()">Login</button>

    <div id="admin-panel" style="display:none; margin-top:1rem;">
      <h3>News hinzufÃ¼gen</h3>
      <input type="text" id="news-title" placeholder="Titel"><br><br>
      <textarea id="news-text" placeholder="Text"></textarea><br><br>
      <button onclick="addNews()">News hinzufÃ¼gen</button>

      <h3 style="margin-top:2rem;">Event hinzufÃ¼gen</h3>
      <input type="text" id="event-title" placeholder="Titel"><br><br>
      <textarea id="event-text" placeholder="Beschreibung"></textarea><br><br>
      <button onclick="addEvent()">Event hinzufÃ¼gen</button>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 Pendra Core</p>
  </footer>

  <script>
    // Sprachumschalter (DE/EN)
    const translations = {
      de: {
        title: "Pendra Core Community",
        navNews: "News & Events",
        navAbout: "Ãœber Uns",
        navPartners: "Partner",
        navDiscord: "Discord",
        newsHeadline: "News",
        eventsHeadline: "Events"
      },
      en: {
        title: "Pendra Core Community",
        navNews: "News & Events",
        navAbout: "About Us",
        navPartners: "Partners",
        navDiscord: "Discord",
        newsHeadline: "News",
        eventsHeadline: "Events"
      }
    };

    let currentLang = "de";
    const switchBtn = document.getElementById("lang-switch");

    switchBtn.addEventListener("click", () => {
      currentLang = currentLang === "de" ? "en" : "de";
      const t = translations[currentLang];
      document.getElementById("title").textContent = t.title;
      document.getElementById("nav-news").textContent = t.navNews;
      document.getElementById("nav-about").textContent = t.navAbout;
      document.getElementById("nav-partners").textContent = t.navPartners;
      document.getElementById("nav-discord").textContent = t.navDiscord;
      document.getElementById("news-headline").textContent = t.newsHeadline;
      document.getElementById("events-headline").textContent = t.eventsHeadline;
      switchBtn.textContent = currentLang === "de" ? "EN" : "DE";
    });

    // Admin Login
    function checkLogin() {
      const pass = document.getElementById("admin-pass").value;
      if(pass === "admin123") {
        document.getElementById("admin-panel").style.display = "block";
        alert("Login erfolgreich!");
      } else {
        alert("Falsches Passwort!");
      }
    }

    // News hinzufÃ¼gen
    function addNews() {
      const title = document.getElementById("news-title").value;
      const text = document.getElementById("news-text").value;
      if(title && text) {
        const div = document.createElement("div");
        div.classList.add("news-item");
        div.innerHTML = `<h3>${title}</h3><p>${text}</p>`;
        document.getElementById("news-list").appendChild(div);
        document.getElementById("news-title").value = "";
        document.getElementById("news-text").value = "";
      }
    }

    // Event hinzufÃ¼gen
    function addEvent() {
      const title = document.getElementById("event-title").value;
      const text = document.getElementById("event-text").value;
      if(title && text) {
        const div = document.createElement("div");
        div.classList.add("news-item");
        div.innerHTML = `<h3>${title}</h3><p>${text}</p>`;
        document.getElementById("events-list").appendChild(div);
        document.getElementById("event-title").value = "";
        document.getElementById("event-text").value = "";
      }
    }

    // Pulse-Effekt fÃ¼r Nav-Links beim Klick
    document.querySelectorAll("nav a").forEach(link => {
      link.addEventListener("click", () => {
        link.classList.add("pulse");
        setTimeout(() => link.classList.remove("pulse"), 600);
      });
    });
  </script>
</body>
</html>
